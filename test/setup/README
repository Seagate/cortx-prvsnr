README
~~~~~~

Preparation

1. Prepare input for cortx_setup. There are two files in this folder.
   a. cluster.conf
   b. config.conf

2. Install cortx-utils and cortx-provisioner rpms.
   Make sure PYTHON_PATH includes src folder, if you are not using rpm.

Testing Manually

1. Run apply command
   $ cortx_setup.py config apply -f yaml://`pwd`/config.yaml -o yaml:///tmp/mp.conf
   $ cortx_setup.py config apply -f yaml://`pwd`/cluster.yaml -o yaml:///tmp/mp.conf

2. Run bootstrap command
   $ cortx_setup.py cluster bootstrap -f yaml:///tmp/mp.conf

   output will look something like this...
    motr_setup post_install --config yaml:/etc/cortx/cortx.conf --services io
    hare_setup post_install --config yaml:/etc/cortx/cortx.conf --services all
    s3_setup post_install --config yaml:/etc/cortx/cortx.conf --services io,auth,bg_consumer
    utils_setup post_install --config yaml:/etc/cortx/cortx.conf --services message_bus
    csm_setup post_install --config yaml:/etc/cortx/cortx.conf --services agent
    motr_setup post_install --config yaml:/etc/cortx/cortx.conf --services fsm
    s3_setup post_install --config yaml:/etc/cortx/cortx.conf --services bg_producer

Running the Tests

Run the following command
    $ ./test_provisioner.py
